@use "../../../assets/styles/breakpoint" as bp;
@use "../../../assets/styles/step-general" as g;

.personality-step {
  @include g.step-container;

  &__header {
    @include g.step-header;
  }

  &__title {
    @include g.title-xl;
  }

  &__subtitle {
    @include g.subtitle-base;
  }

  &__container-content {
    @include g.step-container-content;
  }

  &__content {
    display: flex;
    flex-direction: column;
    gap: calc(var(--font-size-base) * 2.5);
  }

  &__section {
    display: flex;
    flex-direction: column;
    gap: calc(var(--font-size-base) * 1);
  }

  &__section-title {
    // Usamos label-text como base pero ajustamos márgenes si es necesario
    @include g.label-text;
    margin-bottom: calc(var(--font-size-base) * 0.2);
  }

  &__section-desc {
    @include g.help-text;
  }

  &__label {
    @include g.label-text;
    font-size: var(--font-size-base); // Ligeramente más pequeño que un título de sección
  }

  // --- Inputs y Botones ---
  &__input {
    @include g.input-base;
  }

  &__valores-list {
    display: flex;
    flex-direction: column;
    gap: calc(var(--font-size-base) * 0.8);
  }

  &__valor-item {
    display: flex;
    gap: calc(var(--font-size-base) * 0.5);
    align-items: center;
  }

  &__remove-btn {
    @include g.btn-remove-x;
  }

  &__add-btn {
    @include g.btn-secondary-dashed;
    align-self: flex-start;
  }

  // --- Sliders Personalizados (Se mantienen locales por especificidad) ---
  &__sliders {
    display: flex;
    flex-direction: column;
    gap: calc(var(--font-size-base) * 2);
    margin-top: calc(var(--font-size-base) * 1);
  }

  &__slider-group {
    display: flex;
    flex-direction: column;
    gap: calc(var(--font-size-base) * 0.5);
  }

  &__slider-labels {
    display: flex;
    justify-content: space-between;
    color: var(--color-text-body);
    font-size: var(--font-size-sm);
    font-weight: 600;
  }

  &__range {
    -webkit-appearance: none;
    width: 100%;
    height: 6px;
    background: var(--color-surface); 
    border-radius: 3px;
    outline: none;

    // Mixin local para el thumb (duplicación reducida)
    @mixin range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--color-primary-body);
      cursor: pointer;
      border: 2px solid var(--color-background-dark);
      transition: transform 0.2s ease, background-color 0.2s ease;

      &:hover {
        transform: scale(1.2);
        background-color: lighten(#5163e5, 10%); // Ajustar si el preprocesador lo permite o usar calc color
      }
    }

    &::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      @include range-thumb;
    }

    &::-moz-range-thumb {
      @include range-thumb;
    }
  }
}

// --- Breakpoints ---
@include bp.responsive("tablet") {
  .personality-step {
    &__sliders {
      padding: 0 calc(var(--font-size-base) * 2);
    }
  }
}