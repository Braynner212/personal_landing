<div class="formats-step" [formGroup]="formatsForm">

  <header class="formats-step__header">
    <h2 class="formats-step__title">Formatos y Aplicaciones</h2>
    <p class="formats-step__subtitle">
      Selecciona las aplicaciones y formatos donde se implementará la marca.
    </p>
  </header>

  <div class="formats-step__grid" ngSkipHydration>
    @for (app of applicationList; track app.id) {
      <label 
        class="formats-step__checkbox-label" 
        [class.checked]="getControl(app.id)?.value === true">
        
        <input 
          type="checkbox" 
          class="formats-step__checkbox-input"
          [formControlName]="app.id"
          (change)="formatsForm.markAsTouched()"> <span class="formats-step__checkbox-text">{{ app.label }}</span>
      </label>
    }
  </div>

  @if (isGroupInvalid) {
    <span class="formats-step__error-message">
      Por favor, selecciona al menos una aplicación o formato.
    </span>
  }
</div>